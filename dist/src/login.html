<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- tailwind cdn -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icon pack -->
    <link
        href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
        rel="stylesheet"
    />
    <!-- custom css -->
    
    <!-- logo -->
    <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAACYCAYAAADqUrfBAAAACXBIWXMAAC4jAAAuIwF4pT92AAAE9ElEQVR4nO2dz3XTQBCHB17uiAoSKgCO6KCECmIqwFSAqYB0QKgA04FTAbYOOscVkFQQuQPePlZhSeysJWul+e3+vvd83/AxszPaf8/ere5ORGQqBI4jETHyvlIdHs9T/wdAhvKAoTxgKA8YygOG8oChPGAoDxjKA4bygKE8YCgPGMoDhvKAoTxgKA8YygOG8oChPGCOlAz9p4jUIjIRkWMF44FAS+TdVEU2q4rMbIb6YGUSD+rSZlVki6rIzFbElyLySURWCoalEi1p8xFVkZk0Oje/vKybvaVTptV/QBQsVZGZtHph0+p7m1Y3CoY2KmojbxdVkS1FxPwkL+upLXLOVQ42MNCtQlVk86rIjLxXIvJFRNYKhjUYUfR5Nq1eVkX2RkTeisj3FNJqdE16VWTXtu3IYm87ov7CsqXtiCqtwhUsXYi17Uju22ZMbUcSkbcL9LaDqwoWxLaD8h6A1HZQ3hNobzsob080th1JFyxd0NR2MPIOYOy2g5HXE2O0HYy8AAzVdlBeQEK3HZQ3ECHaDsobgb7aDhYsI3Jo28HIU0KXtoORp5B92w5GnnKeajvMZalnIvJr5D/B7Io2JfVi5HFAkJe1aT2mWuQ13IqIEWj+t13rGJJetMlzMSIvjUwzmesZlh40y3NZ2ZJ6Ycvr5BGgguVURH6IyF1e1ou8rM0EnjwokbeNjTM/LvUNLzzI8lyaQucypfkxFnkua2d+jFpkjPJcrmxERlnoxP6F5dwpdOaxFTqxR942Ns78CP0hIEV5LrfNkgzi/Ji6PJe1IxJifqS87UAUOlwS2k5T6NxoLnQYefuzcdKqikKH8rqhYsWD8g5n7YgcdH7knHc4rx+seAz2hCsjLwwbp1oNtrXDyLvgm7FBCba1g1v/wmM20H42v7yse13x4Jw3LGZ+/CYiv/OyXpr5MS/rrOsIKG88Dt7awbSpA/NF5zwv61YrHpSnixci8tH88rL2bu1g2tRLU+iY+fE6L+uZPUl0D+VhcGOfLvgPpk2d7NXkU54e1vZY197NPOWNy8qJsNZNO+UNy8ZGVy+r9JQXnqbkX/b9kZrywrB2oivYqjvl9ceVE2GDrK5TXnfuy3krbPBdZpTXDlXHrinPj9pTR5T3mF7L+ZBQ3l9uG2FI14mkLG+Qcj4kqcm7ciIM/tRs7PJGL+dDEqO8WycdRn1LRCzykrlEwAVZXtSXBewDkjzIcj4k2uW1Xl1OCY3yoirnQ6JFnkmJF7zVrx1a5JnLsecKxgEF920CQ3nAcFUBDHs5+Mxc1095ANgzChMr7f61E8pTjO8dPspTRl7WZ/Y9oYk98rUTylNA17dnKW8k7Fn0iRV22mUUlDcwbdKiD8obgFBPclNeIPpIiz4or2fslRwTezFAUCivB2xanFlpvaVFH5TXESctzuzNRoNDeS0ZMi36oLw9GCst+qC8Hdi02JT3o6RFH5T3AJsWp7s+BmuC8pwHdO3voK8eQ5KsPIS06CM5eUhp0UcS8lDToo9o5e3aOhAT0cnzbR2IiSjkuTuqYkqLPmDlpZAWfcDJSykt+oCQ1+fWgZhQKy/U1oGYUCVviK0DMaFF3ol53pNpsR1a5B1rWNxEg0e8gKE8YCgPGMoDhvKAoTxgKA8YygOG8oChPGAoDxjKA4bygKE8YCgPGMoDhvKAoTxgKA+YI3uTOkFDRP4AB98TWLPMsOcAAAAASUVORK5CYII=" type="image/x-icon">
    <title>eduVerse | Bookmark</title>
  <link rel="stylesheet" href="/assets/main.88fb275c.css">
</head>
<body class="bg-darkblue w-full h-screen font-gilroy">
    <div class="main h-screen w-full"> 

        <!-- navbar -->
        <nav class="px-3 h-24 border-b-2 border-tailblue flex items-center justify-between md:px-16">

            <div>
                <a href="./home.html" class="text-white font-bold text-xl hover:text-tailblue transition-all">
                    <span class="hidden md:block">Home</span> 
                    <i class="ri-home-line text-2xl md:hidden"></i>
                </a>
            </div>

            <div class="h-full flex items-center">
                <a class="text-white font-monument text-2xl" href="./index.html"><span class="text-tailblue">edu</span>Verse</a>
            </div>

            <div>
                <a href="./src/about.html" class="text-white font-bold text-xl hover:text-tailblue transition-all">
                    <span class="hidden md:block">About Us</span>
                    <i class="ri-information-line text-2xl md:hidden"></i>
                </a>
            </div>
        </nav>



        <main class="px-3 md:px-16">
            <section class="pt-4">
                <li class="text-2xl text-white">Welcome back to <span class="text-tailblue">edu</span>Verse.</li>
                

                <div class="login max-w-xl mt-10 p-2 flex flex-col justify-center items-center gap-2">
                    <h2 class="text-white text-2xl">Log in using <span class="text-tailblue">edu</span> ID</h2>

                    <form action="" class="flex flex-col justify-center items-center gap-2">

                        <input class="w-full focus:text-tailblue rounded p-1" type="text" name="" id="username" placeholder="Username">

                        <input class="w-full rounded p-1" type="password" name="" placeholder="password" id="password">
                        
                        <div id="clicked" class="flex flex-col justify-center items-center gap-2">
                            
                        </div>
                        
                        <input class="w-[50%] mt-4 rounded p-1 border border-tailblue text-white font-medium" type="submit" value="Log in" id="login-submit">
                        
                        <h3 class="text-white text-sm">
                            Don't have an account? <a href="./signup.html" class="text-tailblue">Sign Up.</a>
                        </h3>
                    </form>

                </div>

            </section>
        </main>
    </div>


    <script>
        document.querySelector('#login-submit').addEventListener('click', function(e) {
        e.preventDefault();
        let clickedElement = document.getElementById('clicked');
        let username = document.getElementById("username").value;
        let password = document.getElementById("password").value;

        // Perform fetch request to login API
        fetch("https://kirtanmojidra.pythonanywhere.com/api/v1/login", {
            method: 'POST',
            credentials: 'include',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ "username": username, "password": password })
        })
        .then(res => {
            // Check response status
            if (res.ok) {
                clickedElement.innerHTML += `
                    <h2 class="text-white text-md text-red-300">${res.status}</h2>
                `;
                return res.json(); // Parse JSON response
            } else {
                console.log(res);
                throw new Error('Invalid username or password.'); // Throw error for non-200 status
            }
        })
        .then(data => {
            // Handle successful login response
            clickedElement.innerHTML += `
                <h2 class="text-white text-md">${data.message}</h2>
            `;
            // Redirect to index.html upon successful login
            window.location.replace("./home.html");
        })
        .catch(error => {
            // Handle fetch error or login failure
            console.error('Error logging in:', error);
            clickedElement.innerHTML += `
                <h2 class="text-white text-md text-red-400">${error.message}</h2>
            `;
            setTimeout(() => {
                clickedElement.innerHTML = ''; // Clear error message after 5 seconds
            }, 5000);
        });
    });

    </script>
</body>
</html>